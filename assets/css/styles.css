/* هوية بصرية BMC - ألوان طبية أزرق/أخضر + RTL */
/* لتغيير رابط الواتساب العائم، عدّل href في index.html فقط. */

:root{
  --bmc-primary:#0d6efd;   /* أزرق طبي */
  --bmc-secondary:#20c997; /* أخضر طبي */
  --bmc-bg:#f6f9fc;
  --bmc-text:#123047;
  --bmc-muted:#6c7a86;
  --bmc-border:#e2e8f0;
  --radius:14px;
  --shadow:0 6px 24px rgba(0,0,0,.06);
}

*{box-sizing:border-box}
html,body{
  margin:0; padding:0;
  background:var(--bmc-bg); color:var(--bmc-text);
  font-family: "Tajawal", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans Arabic", "Noto Kufi Arabic", sans-serif;
  line-height:1.6;
}

a{color:var(--bmc-primary);text-decoration:none}
a:hover{text-decoration:underline}
.muted{color:var(--bmc-muted)}

.app-header{
  position:sticky; top:0; z-index:1000;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  background:#fff; border-bottom:1px solid var(--bmc-border);
  padding:10px 16px;
}

.brand{display:flex; align-items:center; gap:12px}
.logo{width:44px; height:44px}
.title{font-size:18px; margin:0}
.subtitle{margin:0;color:var(--bmc-muted);font-size:12px}

.progress-area{min-width:260px; width:45%}
.progress-info{display:flex; justify-content:space-between; font-size:12px; color:var(--bmc-muted)}
.progress-bar{width:100%; height:10px; background:#eef2f7; border-radius:999px; overflow:hidden; border:1px solid var(--bmc-border)}
.progress-fill{height:100%; background:linear-gradient(90deg,var(--bmc-primary),var(--bmc-secondary)); width:0%; transition:width .3s ease}

/* تخطيط */
.container{
  display:grid; grid-template-columns: 320px 1fr;
  gap:16px; padding:16px; max-width:1400px; margin:0 auto;
}

/* الشريط الجانبي */
.sidebar{
  background:#fff; border:1px solid var(--bmc-border); border-radius:var(--radius); box-shadow:var(--shadow);
  display:flex; flex-direction:column; gap:12px; padding:12px;
  max-height: calc(100vh - 100px);
  position:sticky; top:86px; overflow:auto;
}
.sidebar-header{display:flex; flex-direction:column; gap:8px}
.sidebar-header.sticky{position:sticky; top:0; background:#fff; padding-bottom:8px; z-index:5}
.sidebar-header input{
  padding:12px; border:1px solid var(--bmc-border); border-radius:10px; outline:none; transition:border-color .2s ease, box-shadow .2s ease;
}
.sidebar-header input:focus{border-color:var(--bmc-primary); box-shadow:0 0 0 3px rgba(13,110,253,.15)}
.units-list{list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:8px}
.unit-item{
  border:1px solid var(--bmc-border); border-radius:12px; padding:12px; background:#fff;
  display:flex; align-items:center; gap:10px; cursor:pointer; transition:border-color .2s ease, background .2s ease;
}
.unit-item:hover{border-color:var(--bmc-primary); background:#f9fbff}
.unit-item.active{border-color:var(--bmc-primary); background:#eef6ff}
.unit-title{flex:1}
.badge{
  font-size:11px; padding:2px 8px; border-radius:999px; border:1px solid var(--bmc-border); color:var(--bmc-muted)
}
.badge.done{background: #e8fff5; border-color:#bff0da; color:#13795b}
.badge.lock{background:#fff6e6; border-color:#fcd49b; color:#b26a00}

.final-exam{margin-top:8px}
.final-exam-btn{
  width:100%;
  padding:12px; border:none; border-radius:12px;
  background:var(--bmc-secondary); color:#fff; font-weight:700; cursor:not-allowed; opacity:.6; transition:filter .2s ease, opacity .2s ease;
}
.final-exam-btn.ready{cursor:pointer; opacity:1}
.final-exam-btn:hover.ready{filter:brightness(.95)}
.hint{display:block; margin-top:6px; font-size:12px}

/* المنطقة الرئيسية */
.content{
  background:#fff; border:1px solid var(--bmc-border); border-radius:var(--radius);
  padding:16px; box-shadow:var(--shadow);
}
.unit-meta h2{margin-top:0}
.unit-meta p{margin-top:4px}

.media-grid{
  display:grid; grid-template-columns: 1fr 1fr; gap:16px; margin-top:12px;
}
.card{
  border:1px solid var(--bmc-border); border-radius:12px; padding:12px; background:#fff;
}
.card-header{display:flex; align-items:center; justify-content:space-between; margin-bottom:8px}
.chip{font-size:12px; background:#f1f5f9; color:var(--bmc-muted); padding:2px 8px; border-radius:999px; border:1px solid var(--bmc-border)}

.pdf-frame{height:520px; border:1px solid var(--bmc-border); border-radius:10px; overflow:hidden; background:#f9fbff}
.pdf-frame iframe{width:100%; height:100%; border:0}

.actions{margin-top:8px; display:flex; gap:8px; flex-wrap:wrap}
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  border-radius:10px; padding:12px 16px; font-weight:700; border:1px solid transparent; transition:transform .05s ease;
}
.btn:active{transform:scale(.98)}
.btn-primary{background:var(--bmc-primary); color:#fff}
.btn-primary:disabled{opacity:.6; cursor:not-allowed}
.btn-secondary{background:#f1f5f9; color:var(--bmc-text); border-color:var(--bmc-border)}
.btn-secondary[aria-disabled="true"]{opacity:.6; pointer-events:none}

.complete-area{margin-top:16px; display:flex; align-items:center; gap:12px; flex-wrap:wrap}
.complete-state{color:var(--bmc-muted)}

/* زر واتساب — إلى اليسار */
.whatsapp-fab{
  position:fixed; bottom:16px; right:16px; z-index:1200;
  width:56px; height:56px; border-radius:50%;
  background:#25D366; color:#fff; display:flex; align-items:center; justify-content:center;
  box-shadow:0 10px 24px rgba(0,0,0,.18);
}
.whatsapp-fab.left{right:auto; left:16px}
.whatsapp-fab:hover{filter:brightness(.95)}
.whatsapp-fab svg{width:28px; height:28px}

/* تجاوب */
@media (max-width: 980px){
  .container{grid-template-columns: 1fr}
  .sidebar{position:relative; top:0; max-height:none}
  .media-grid{grid-template-columns:1fr}
  .progress-area{width:60%}
}
@media (max-width:480px){
  .title{font-size:16px}
  .logo{width:38px; height:38px}
  .progress-area{width:100%}
  .pdf-frame{height:420px}
}
